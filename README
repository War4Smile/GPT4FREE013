Вариант реализации телеграм бота для общения с искуственным интелектом на базе OpenSource решений.
Для работы потрбуется python 3.11 + рекомендую venv, необходимые зависимости указаны в файле requirements.txt

Описание AI Telegram Bot от War4Smile

Telegram-бот, предоставляющий доступ к различным ИИ-сервисам через интерфейс Telegram. Бот поддерживает: 
    Генерацию изображений через Pollinations AI
    Транскрибацию аудио через Speechmatics
    Генерацию аудио из текста
    Анализ изображений
    Поддержку нескольких ИИ-моделей через g4f
    Автоматический выбор рабочих провайдеров
     
Основные функции 
    /image  - Генерация изображений по текстовому описанию
    /analyze  - Анализ изображений с получением текстового описания
    /transcribe  - Распознавание речи из аудиофайлов
    /generateaudio  - Создание аудиофайлов из текста
    /provider  - Выбор ИИ-модели
    /imagesettings  - Настройка параметров изображений
    /history  - Просмотр истории диалогов
    /clear  - Очистка истории
     
Особенности 
    Автоматическая проверка провайдеров 
    Регулярная проверка доступности ИИ-провайдеров и обновление списка рабочих
    Многоуровневая обработка ошибок 
    Экспоненциальные повторы, детализация ошибок, автоматическое восстановление
    Работа с большими файлами 
    Поддержка аудио до 512MB, автоматическое разбиение на части
    Гибкая система настроек 
    Возможность изменения голоса, качества анализа, размеров изображений
    Интеграция с .env 
    Безопасное хранение API-ключей и настроек
    Админ-панель 
    Статистика использования, управление пользователями, мониторинг провайдеров
     
Технологии 
    aiogram  - Асинхронная обработка Telegram API
    g4f  - Доступ к различным ИИ-моделям
    Pollinations AI  - Генерация и анализ изображений
    Speechmatics  - Транскрибация аудио
    aiohttp  - Асинхронные HTTP-запросы
    pydub  - Обработка аудио
    python-dotenv  - Загрузка переменных окружения
    tenacity  - Повторные попытки при ошибках
    beautifulsoup4  - Очистка HTML-тегов
     

Установка 
# Клонирование репозитория
git clone https://github.com/username/GPT4FREE013.git 
cd GPT4FREE013

# Создание виртуального окружения
python3.11 -m venv venv
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt

# Настройка окружения
nano .env
# Отредактируйте .env и добавьте свои API-ключи
 
#Настройка .env 
#.env
BOT_TOKEN=your_telegram_bot_token
SPEECHMATICS_APIKEY=your_speechmatics_key
FUSIONBRAIN_APIKEY=your_fusionbrain_key
FUSIONBRAIN_APISECRET=your_fusionbrain_secret
IMAGE_PROVIDER=PollinationsAI
IMAGE_MODEL=flux
 
# Запуск бота
python bot.py
 

Возможности 
Генерация изображений 
    Поддержка различных моделей (flux, flux-anime и др.)
    Настройка размеров, seed, качества
    Автоматическое переключение на рабочие провайдеры
    Сохранение истории запросов
     

Анализ изображений 
    Распознавание содержимого изображений через OpenAI Vision
    Поддержка URL и загружаемых изображений
    Настройка качества анализа (высокое/среднее/низкое)
    Сохранение результатов в истории
     

Транскрибация аудио 
    Поддержка форматов: aac, amr, flac, m4a, mp3, mp4, mpeg, ogg, wav
    Автоматическое сжатие файлов
    Разбиение длинных записей на части
    Сохранение транскрипций в истории
     

Генерация аудио 
    Поддержка голосов: alloy, echo, fable, onyx, nova, shimmer
    Обработка длинных текстов (автоматическое разбиение)
    Сохранение в формате MP3
    Сохранение истории генерации
     

Администрирование 
    Статистика использования
    Мониторинг провайдеров
    Управление пользователями
    Просмотр истории сообщений
     

Архитектурные особенности 
    Разделение на модули : конфигурация, обработчики, вспомогательные функции
    Состояния пользователей : реализация через словарь user_states
    Динамические провайдеры : автоматическое обновление списка рабочих
    Очистка HTML : безопасная отправка ответов от ИИ
    Логирование : детальная диагностика ошибок
    Миграция данных : восстановление после сбоев
     

Примеры использования 
    Генерация изображения    
        Отправьте /image  
        Опишите изображение: "Красивая девушка на пляже"  
        Бот сгенерирует изображение и отправит его в чат
         

    Анализ изображения    
        Отправьте /analyze  
        Загрузите изображение  
        Бот вернет описание содержимого
         

    Транскрибация аудио    
        Отправьте /transcribe  
        Загрузите аудиофайл  
        Бот отправит текстовое описание
         

    Генерация аудио    
        Ответьте на текстовое сообщение командой /generateaudio  
        Выберите голос  
        Получите аудиофайл с озвучкой
         
     

Требования 
    Python 3.11
    Telegram Bot Token
    API-ключи:
        Pollinations AI
        Speechmatics
        FusionBrain (опционально)
         
     

Лицензия 
Этот проект распространяется под MIT License - см. LICENSE для подробностей 
Автор 
War4Smile
Версия 1.0.0 
 
Типичные сценарии 
    Обучение : Анализ изображений для получения описания
    Контент-создание : Генерация визуальных материалов
    Аудио-конвертация : Преобразование текстов в аудио
    ИИ-ассистент : Поддержка различных ИИ-моделей
    Администрирование : Управление пользователями и настройками
     

Важные файлы 
    bot.py - Основной код бота
    config.py - Настройки и конфигурация
    prov.py - Проверка работоспособности провайдеров
    availableproviders.py - Список доступных провайдеров
    alworkproviders.py - Рабочие провайдеры
    user_data.json - Хранилище данных пользователей
    blocked_users.json - Список заблокированных пользователей
     

Полезные команды 
    /start - Запуск бота
    /help - Список команд
    /admin - Панель администратора
    /stats - Статистика использования
    /history - Просмотр истории
    /clear - Очистка истории
    /provider - Выбор модели ИИ
    /imagesettings - Настройки изображений
    /analysissettings - Настройки анализа
    /jobs - Просмотр активных задач
     

Ссылки 
    Telegram Bot - https://t.me/
    Pollinations AI - https://pollinations.ai/
    Speechmatics - https://www.speechmatics.com/

Поддержка 
Этот README охватывает основные аспекты проекта, его функционал, технологии и процесс установки. Для специфичных технических деталей и реализации обратитесь к соответствующим файлам проекта. 